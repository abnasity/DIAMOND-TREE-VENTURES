{% extends 'layouts/base.html' %}
{% block content %}

<style>


  .carousel-caption-bg {
    background-color: rgba(0, 0, 0, 0.6); /* Dark semi-transparent */
    color: white;
    padding: 1.5rem;
    border-radius: 0.5rem;
    max-width: 90%;
  }


  .festive-banner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(71, 70, 70, 0.85);
    padding: 2rem;
    border-radius: 8px;
    width: 80%;
    max-width: 600px;
  }

  .festive-title {
    font-size: 2rem;
    font-weight: 700;
    color: #2bd68f;
    margin-bottom: 1rem;
    text-transform: uppercase;
  }

  .festive-subtitle {
    font-size: 1.2rem;
    font-weight: 600;
    color: #1d549b;
    margin-bottom: 1.5rem;
  }

  .shop-now-btn {
    background-color: #ca6fff;
    color: white;
    padding: 12px 40px;
    font-size: 1.2rem;
    font-weight: 600;
    border: none;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s;
  }

  .disclaimer {
    font-size: 0.8rem;
    color: #fdff70;
    margin-top: 1rem;
  }

  .carousel-item {
    height: 500px;
    position: relative;
  }

  .carousel-item img {
    object-fit: cover;
    height: 100%;
  }

  .product-card {
    margin-bottom: 2rem;
  }

  .card .badge {
  font-size: 0.7rem;
  padding: 0.35em 0.6em;
  font-weight: 600;
  text-transform: uppercase;
  z-index: 10;
}


</style>

<div class="container-fluid px-0">

  <!-- Hero Carousel -->
  <div id="heroCarousel" class="carousel slide mb-4" data-bs-ride="carousel" data-bs-interval="3000">
  <div class="carousel-inner">

    <div class="carousel-item active" data-bs-interval="5000">
      <div class="row g-0">
        <div class="col-md-6">
          <img src="https://media.istockphoto.com/id/1316900410/photo/samsung-galaxy-a32-5g.jpg?s=612x612&w=0&k=20&c=px7rssNsW6PfhqD6l9L8w1P7CqV1MBzqZedXQjwKEbc=" class="d-block w-100" alt="Smartphone">
        </div>
        <div class="col-md-6 d-flex align-items-center justify-content-center">
          <div class="carousel-caption-bg">
            <h2 class="fw-bold fs-3 mb-2">Latest Smartphones</h2>
            <p class="mb-0">Stay ahead with our cutting-edge mobile deals.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="carousel-item" data-bs-interval="5000">
      <div class="row g-0">
        <div class="col-md-6">
          <img src="https://media.istockphoto.com/id/1960219022/photo/granada-andalusia-spain-25th-january-2024-new-samsung-s24-ultra-freshly-turned-on-screen-with.jpg?s=612x612&w=0&k=20&c=-_DsUvQMPkv46nG46GLFDPM6r4G_ZxzvTfFnTiejN0I=" class="d-block w-100" alt="Samsung S24 Ultra">
        </div>
        <div class="col-md-6 d-flex align-items-center justify-content-center">
          <div class="carousel-caption-bg">
            <h2 class="fw-bold fs-3 mb-2">Next-Gen Smartphones</h2>
            <p class="mb-0">Explore the future of mobile performance and design.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="carousel-item" data-bs-interval="5000">
      <div class="row g-0">
        <div class="col-md-6">
          <img src="https://media.istockphoto.com/id/1316900406/photo/samsung-galaxy-a32-5g.jpg?s=612x612&w=0&k=20&c=1F8cH-i7H0x4CKQGDdSCm5jdgLIZUvk4Zlr37Bm78VA=" class="d-block w-100" alt="Samsung Galaxy A32">
        </div>
        <div class="col-md-6 d-flex align-items-center justify-content-center">
          <div class="carousel-caption-bg">
            <h2 class="fw-bold fs-3 mb-2">Affordable Devices for Every Budget</h2>
            <p class="mb-0">Premium tech, unbeatable prices.</p>
          </div>
        </div>
      </div>
    </div>

  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

  <!-- Deals Section -->
  <div id="dealsCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active position-relative">
        <img src="https://media.istockphoto.com/id/1316900405/photo/samsung-galaxy-a32-5g.jpg?s=612x612&w=0&k=20&c=pr6o_DsW3TR-aCBeLp2_f2OdDTYw01KxDsvv1PEpk_A=" class="d-block w-100" alt="responsive image">
        <div class="festive-banner text-center">
          <h2 class="festive-title">FESTIVE SEASON DEALS</h2>
          <p class="festive-subtitle">LIMITED DISCOUNT ON SELECTED PRODUCTS</p>
          <a href="{{ url_for('customers.login') }}" class="btn shop-now-btn">SHOP NOW</a>
          <p class="disclaimer">The limited discount is valid a limited number of products and sizes</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Featured Products -->
  <section class="container mb-5">
  <h1 class="text-center fw-bold mb-4">Featured Products</h1>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    
{% for device in featured_devices %}
    <div class="col">
      <div class="card h-100 position-relative border">
        {# Example logic to vary badge â€” you can replace this with real logic later #}
        {% if loop.index == 1 %}
          <span class="badge bg-success position-absolute top-0 start-0 m-2">NEW</span>
        {% elif loop.index == 2 %}
          <span class="badge bg-primary position-absolute top-0 start-0 m-2">HOT</span>
        {% elif loop.index == 3 %}
          <span class="badge bg-danger position-absolute top-0 start-0 m-2">OFFER</span>
        {% elif loop.index == 4 %}
          <span class="badge bg-success position-absolute top-0 start-0 m-2">NEW</span>
        {% elif loop.index == 5 %}
          <span class="badge bg-danger position-absolute top-0 start-0 m-2">NEW</span>
        {% elif loop.index == 6 %}
          <span class="badge bg-primary position-absolute top-0 start-0 m-2">HOT</span>
        {% elif loop.index == 7 %}
          <span class="badge bg-danger position-absolute top-0 start-0 m-2">OFFER</span>
        {% elif loop.index == 8 %}
          <span class="badge bg-danger position-absolute top-0 start-0 m-2">HOT</span>
        {% endif %}

    <img src="{{ url_for('static', filename='images/devices/' ~ device.brand|lower ~ '/' ~ device.main_image) }}"
     class="card-img-top" loading="lazy" alt="{{ device.model }}">

    
    <div class="card-body text-center">
      <p class="card-text fw-semibold">{{ device.brand }} {{ device.model }}</p>
      <p class="text-success mb-2">
        Ksh {{ device.price_cash }} | 
        <span class="text-primary">Ksh {{ device.price_credit }}</span>
      </p>
      <a href="{{ url_for('devices.learn_more_device', device_slug=device.slug) }}" class="btn btn-outline-primary">Learn More</a>
    </div>
  </div>
</div>
{% endfor %}
  </div>
</section>
  

{% endblock %}





